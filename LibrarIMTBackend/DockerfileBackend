#Build Backend package
FROM maven:3.9.6-amazoncorretto-21 as build
RUN mkdir -p /backend
WORKDIR /backend
COPY pom.xml /backend
COPY src /backend/src
RUN mvn -f pom.xml clean package
#Run Backend container
FROM openjdk:21
MAINTAINER amflinois
COPY --from=build /backend/target/*.jar backend.jar
ENTRYPOINT ["java", "-jar", "/backend.jar"]
EXPOSE 8080/tcp
